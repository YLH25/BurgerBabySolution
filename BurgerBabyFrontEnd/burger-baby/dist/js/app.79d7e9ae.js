(function(){"use strict";var e={1776:function(e,t,s){var a=s(5130),n=s(6768),o=s(4232),i=s.p+"img/foodicon.b70f90b7.png";const r={class:"navbar navbar-expand-md navbar-warning fixed-top bg-warning"},l={class:"collapse navbar-collapse justify-content-between",id:"navbarCollapse"},d={class:"navbar-nav mb-2 mb-md-0"},c={style:{},class:"nav-item"},m={class:"nav-item"},u={key:0,class:"nav-item"},h={key:1,class:"nav-item"},p={style:{width:"50vw"},class:"d-flex",role:"search"},f={class:"memberInfo me-5 p-1"},g={key:0,class:"d-flex"},b={class:"me-5 fs-1"},k={class:"d-flex align-items-center justufy-content-center"},y={key:1,class:"d-flex align-items-center justufy-content-center"},v={class:"d-flex me-5"},w={class:"d-flex",style:{"flex-direction":"column"}},L={class:"p-1"},x={class:"p-1"},$={class:"d-flex align-items-center justufy-content-center"};function C(e,t,s,C,z,E){const I=(0,n.g2)("router-link"),A=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("nav",r,[(0,n.bF)(I,{class:"navbar-brand",to:"/"},{default:(0,n.k6)((()=>t[6]||(t[6]=[(0,n.Lk)("img",{id:"food-icon",style:{width:"4em",height:""},src:i,alt:""},null,-1)]))),_:1}),t[13]||(t[13]=(0,n.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,n.Lk)("span",{class:"navbar-toggler-icon"})],-1)),(0,n.Lk)("div",l,[(0,n.Lk)("ul",d,[(0,n.Lk)("li",c,[(0,n.bF)(I,{style:{"font-size":"2em"},class:"nav-link",to:"/","active-class":"active"},{default:(0,n.k6)((()=>t[7]||(t[7]=[(0,n.eW)("主頁")]))),_:1})]),(0,n.Lk)("li",m,[(0,n.bF)(I,{style:{"font-size":"2em"},class:"nav-link",to:"/Products","active-class":"active"},{default:(0,n.k6)((()=>t[8]||(t[8]=[(0,n.eW)("商品")]))),_:1})]),this.$store.state.isLoggedIn?((0,n.uX)(),(0,n.CE)("li",u,[(0,n.bF)(I,{style:{"font-size":"2em"},class:"nav-link",to:"/Member/1","active-class":"active"},{default:(0,n.k6)((()=>t[9]||(t[9]=[(0,n.eW)("會員")]))),_:1})])):((0,n.uX)(),(0,n.CE)("li",h,[(0,n.bF)(I,{style:{"font-size":"2em"},class:"nav-link",to:"/Register","active-class":"active"},{default:(0,n.k6)((()=>t[10]||(t[10]=[(0,n.eW)("註冊")]))),_:1})]))]),(0,n.Lk)("form",p,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>z.searchString=e),class:"form-control me-2",type:"search",placeholder:"搜尋商品","aria-label":"Search"},null,512),[[a.Jo,z.searchString]]),(0,n.Lk)("button",{style:{width:"5em"},onClick:t[1]||(t[1]=(...e)=>E.search&&E.search(...e)),class:"btn btn-outline-success",type:"submit"}," 搜尋 ")]),(0,n.Lk)("div",f,[e.$store.state.isLoggedIn?((0,n.uX)(),(0,n.CE)("div",g,[(0,n.Lk)("span",b,(0,o.v_)("Hi,"+e.$store.state.memberInfo.name),1),(0,n.Lk)("span",k,[(0,n.Lk)("button",{type:"button",onClick:t[2]||(t[2]=(...e)=>E.logout&&E.logout(...e)),class:"btn btn-success"}," 會員登出 ")])])):((0,n.uX)(),(0,n.CE)("div",y,[(0,n.Lk)("span",v,[(0,n.Lk)("div",w,[(0,n.Lk)("div",L,[t[11]||(t[11]=(0,n.Lk)("label",{style:{width:"4.5em"},for:"email"},"電子郵件:",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>z.email=e),id:"email",type:"email",placeholder:"請輸入電子郵件"},null,512),[[a.Jo,z.email]])]),(0,n.Lk)("div",x,[t[12]||(t[12]=(0,n.Lk)("label",{style:{width:"4.5em"},for:"password"},"密碼:",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>z.password=e),id:"password",type:"password",placeholder:"請輸入密碼"},null,512),[[a.Jo,z.password]])])])]),(0,n.Lk)("span",$,[(0,n.Lk)("button",{type:"button",class:"btn btn-success",onClick:t[5]||(t[5]=(...e)=>E.login&&E.login(...e))}," 會員登入 ")])]))])])]),(0,n.Lk)("main",null,[(0,n.bF)(A)]),t[14]||(t[14]=(0,n.Lk)("footer",{class:"bg-warning d-flex justify-content-center align-items-center"}," 非商業用途 ",-1))])}s(4114);var z=s(4373),E={data(){return{email:"",password:"",searchString:""}},methods:{search(e){e.preventDefault(),this.$router.push({path:"/Products",query:{searchString:this.searchString,pageIndex:1,pageSize:1}})},initMember(){this.$store.dispatch("getAccessToken").then((e=>{e?this.$store.dispatch("getMember").then((e=>{e?this.$store.commit("changeLoginStatus",!0):(this.$store.commit("changeLoginStatus",!1),this.$store.commit("changeAccessToken",""),console.log("獲取會員資料失敗，請重新登入"))})):(this.$store.commit("changeLoginStatus",!1),this.$store.commit("changeAccessToken",""),console.log("獲取通行失敗，請重新登入"))}))},login(){const e=`${this.$store.state.apiUrl}/login`;z.A.post(e,{email:this.email,password:this.password},{withCredentials:!0}).then((e=>{200==e.status&&(this.email="",this.password="",this.initMember())})).catch((e=>{console.log(e.response?e.response.status:"error"),alert("錯誤請重新登入")}))},logout(){const e=`${this.$store.state.apiUrl}/logout`;z.A.post(e,{},{withCredentials:!0}).then(this.$store.commit("changeLoginStatus",!1),this.$store.commit("changeAccessToken",""))}},computed:{},watch:{},created(){this.initMember()}},I=s(1241);const A=(0,I.A)(E,[["render",C]]);var U=A,T=s(1387);const V={class:""},M=["src"],P={class:"container-fluid"},j={class:"featurette p-5"},_={class:"row mt20 featuretteCustom"},S={class:"col-md-5"},X=["src"],O={class:"row featuretteCustom",style:{"margin-top":"5em"}},J={class:"col-md-5"},Z=["src"];function F(e,t,s,a,o,i){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",V,[(0,n.Lk)("img",{src:`${this.$store.state.apiUrl}/home/3.jpg`,style:{"object-fit":"cover",width:"100%",height:"30em"}},null,8,M)]),(0,n.Lk)("div",P,[(0,n.Lk)("div",j,[(0,n.Lk)("div",_,[t[0]||(t[0]=(0,n.Lk)("div",{class:"col-md-7"},[(0,n.Lk)("b",{style:{"font-size":"3em"}},"現正推出"),(0,n.Lk)("p",{style:{"font-size":"2em"},class:"lead"}," 想了解有哪些最新活動嗎？你不想錯過的美食、最即時的優惠內容... 馬上探索、馬上行動！* ")],-1)),(0,n.Lk)("div",S,[(0,n.Lk)("img",{src:`${this.$store.state.apiUrl}/home/5.png`,style:{width:"30em",height:"30em","border-radius":"15%","object-fit":"cover"},alt:""},null,8,X)])]),(0,n.Lk)("div",O,[(0,n.Lk)("div",J,[(0,n.Lk)("img",{src:`${this.$store.state.apiUrl}/home/5.jpg`,style:{width:"30em",height:"30em","border-radius":"15%","object-fit":"cover"},alt:""},null,8,Z)]),t[1]||(t[1]=(0,n.Lk)("div",{class:"col-md-7"},[(0,n.Lk)("b",{style:{"font-size":"3em"}}," 安心品質"),(0,n.Lk)("p",{style:{"font-size":"2em"},class:"lead"}," 從食材挑選到衛生管理，從大事項到小細節，你的每一口都有我們最嚴格的把關認證，只為了讓你安心享受。 ")],-1))])])])])}var N={};const B=(0,I.A)(N,[["render",F],["__scopeId","data-v-ebef2268"]]);var W=B;const D={class:"main-section"},q={class:"d-flex",style:{"flex-direction":"column"}},H={class:"m-5 d-flex"},R={class:"carousel-area"},G={id:"carouselExample",class:"carousel slide carousel-img-area",style:{width:"70em",height:"100%",position:"absolute"}},Q={class:"carousel-inner",style:{height:"100%"}},K={class:"carousel-item active",style:{height:"100%"}},Y=["src"],ee={class:"intro-section",style:{position:"relative"}},te={class:"title p-1"},se={style:{position:"absolute",right:"0",bottom:"0"},class:"info mt-3 p-5"},ae={style:{color:"red","font-size":"2em"}},ne={class:"intro"},oe={class:"p-5",style:{"font-size":"2em","min-height":"30em","word-wrap":"break-word"}};function ie(e,t,s,i,r,l){const d=(0,n.g2)("ZoomView");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("section",D,[(0,n.Lk)("div",q,[(0,n.Lk)("div",H,[(0,n.Lk)("div",R,[(0,n.bo)((0,n.Lk)("div",{class:"left-angle-area",onClick:t[0]||(t[0]=e=>l.changeImage(-1))},t[4]||(t[4]=[(0,n.Lk)("button",{class:"left-angle-btn",type:"button","data-bs-target":"#carouselExample","data-bs-slide":"prev"},[(0,n.Lk)("i",{class:"fa-solid fa-angle-left left-angle"})],-1)]),512),[[a.aG,r.data.imgs&&0!=r.currentImageIndex]]),(0,n.Lk)("div",G,[(0,n.Lk)("div",Q,[(0,n.Lk)("div",K,[r.data.imgs&&r.data.imgs.length>0?((0,n.uX)(),(0,n.CE)("img",{key:0,class:"carousel-img d-block",src:`${this.$store.state.apiUrl}/`+r.data.imgs[r.currentImageIndex].saveName,onClick:t[1]||(t[1]=e=>l.showImg(`${this.$store.state.apiUrl}/`+r.data.imgs[r.currentImageIndex].saveName)),style:{"object-fit":"cover",height:"100%"}},null,8,Y)):(0,n.Q3)("",!0)])])]),(0,n.bo)((0,n.Lk)("div",{class:"right-angle-area",onClick:t[2]||(t[2]=e=>l.changeImage(1))},t[5]||(t[5]=[(0,n.Lk)("button",{class:"right-angle-btn",type:"button","data-bs-target":"#carouselExample","data-bs-slide":"prev"},[(0,n.Lk)("i",{class:"fa-solid fa-angle-right right-angle"})],-1)]),512),[[a.aG,r.data.imgs&&r.currentImageIndex<r.data.imgs.length-1]])]),(0,n.Lk)("div",ee,[(0,n.Lk)("div",te,(0,o.v_)(r.data.name),1),(0,n.Lk)("div",se,[t[6]||(t[6]=(0,n.Lk)("span",{style:{"font-size":"2em"}},"價格:",-1)),(0,n.Lk)("span",ae,(0,o.v_)(r.data.price),1)])])]),t[8]||(t[8]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("div",ne,[t[7]||(t[7]=(0,n.Lk)("b",{class:"p-5",style:{"font-size":"3em"}},"商品介紹",-1)),(0,n.Lk)("p",oe,(0,o.v_)(r.data.intro),1)])])]),(0,n.bF)(d,{imgUrl:r.imgUrl,zoomVisible:r.zoomVisible,onHideZoomView:t[3]||(t[3]=e=>l.hideZoom())},null,8,["imgUrl","zoomVisible"])])}var re=s(7465),le={components:{ZoomView:re.A},data(){return{tryCount:0,zoomVisible:!1,imgUrl:"",currentImageIndex:0,data:{id:null,name:"",price:null,intro:"",imgs:[]}}},methods:{getData(){const e=`${this.$store.state.apiUrl}/Product/${this.$route.params.id}`;z.A.get(e).then((e=>{this.data=e.data})).catch((e=>{alert("錯誤: "+e.message),this.goBackAfterTimeout()}))},changeImage(e){this.currentImageIndex+=e},showImg(e){this.imgUrl=e,this.zoomVisible=!0},hideZoom(){this.zoomVisible=!1},goBackAfterTimeout(){setTimeout((()=>{this.$router.go(-1)}),100)}},mounted(){this.getData()}};const de=(0,I.A)(le,[["render",ie]]);var ce=de;const me={key:0},ue={class:"p-5"},he={class:"",style:{width:"100%"}},pe={key:0,class:"",style:{"font-size":"3em"}},fe={key:1,style:{"font-size":"3em"}},ge={class:"",style:{"font-size":"3em"}},be={key:0,class:"",style:{"font-size":"3em"}},ke={key:1,class:"",style:{"font-size":"3em"}},ye={key:0,class:"",style:{"font-size":"3em"}},ve={key:1,style:{"font-size":"3em"}},we={key:0,class:"",style:{"font-size":"3em"}},Le={key:1,style:{"font-size":"3em"}};function xe(e,t,s,i,r,l){return this.$store.state.isLoggedIn?((0,n.uX)(),(0,n.CE)("div",me,[(0,n.Lk)("div",ue,[(0,n.Lk)("table",he,[(0,n.Lk)("tr",null,[t[14]||(t[14]=(0,n.Lk)("th",{style:{width:"10em","font-size":"3em","text-align":"end",padding:"1em"}}," 會員名稱: ",-1)),r.isEditName?((0,n.uX)(),(0,n.CE)("td",fe,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>r.data.name=e)},null,512),[[a.Jo,r.data.name]]),(0,n.Lk)("button",{onClick:t[2]||(t[2]=e=>l.changeMemberInfo("name"))},"確認修改")])):((0,n.uX)(),(0,n.CE)("td",pe,[(0,n.eW)((0,o.v_)(this.$store.state.memberInfo.name),1),(0,n.Lk)("a",{href:"#",onClick:t[0]||(t[0]=(0,a.D$)((e=>l.toggleMemberInfo("name")),["prevent"]))},t[13]||(t[13]=[(0,n.Lk)("i",{class:"fa-solid fa-pen-to-square fa-2xs ms-3",style:{color:"#000"}},null,-1)]))]))]),(0,n.Lk)("tr",null,[t[15]||(t[15]=(0,n.Lk)("th",{style:{width:"10em","font-size":"3em","text-align":"end",padding:"1em"}}," Email: ",-1)),(0,n.Lk)("td",ge,(0,o.v_)(this.$store.state.memberInfo.email),1)]),(0,n.Lk)("tr",null,[t[16]||(t[16]=(0,n.Lk)("th",{style:{width:"10em","font-size":"3em","text-align":"end",padding:"1em"}}," 密碼: ",-1)),r.isEditPassword?((0,n.uX)(),(0,n.CE)("td",be,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>r.password=e),type:"password",placeholder:"輸入新密碼"},null,512),[[a.Jo,r.password]]),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>r.confirmPassword=e),type:"password",placeholder:"確認新密碼"},null,512),[[a.Jo,r.confirmPassword]]),(0,n.Lk)("button",{onClick:t[5]||(t[5]=e=>l.changeMemberInfo("password"))},"確認修改")])):((0,n.uX)(),(0,n.CE)("td",ke,[(0,n.Lk)("button",{onClick:t[6]||(t[6]=e=>l.toggleMemberInfo("password"))},"修改密碼")]))]),(0,n.Lk)("tr",null,[t[18]||(t[18]=(0,n.Lk)("th",{style:{width:"10em","font-size":"3em","text-align":"end",padding:"1em"}}," 電話: ",-1)),r.isEditPhone?((0,n.uX)(),(0,n.CE)("td",ve,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=e=>r.data.phone=e)},null,512),[[a.Jo,r.data.phone]]),(0,n.Lk)("button",{onClick:t[9]||(t[9]=e=>l.changeMemberInfo("phone"))},"確認修改")])):((0,n.uX)(),(0,n.CE)("td",ye,[(0,n.eW)((0,o.v_)(this.$store.state.memberInfo.phone),1),(0,n.Lk)("a",{href:"#",onClick:t[7]||(t[7]=(0,a.D$)((e=>l.toggleMemberInfo("phone")),["prevent"]))},t[17]||(t[17]=[(0,n.Lk)("i",{class:"fa-solid fa-pen-to-square fa-2xs ms-3",style:{color:"#000"}},null,-1)]))]))]),(0,n.Lk)("tr",null,[t[20]||(t[20]=(0,n.Lk)("th",{style:{width:"10em","font-size":"3em","text-align":"end",padding:"1em"}}," 地址: ",-1)),r.isEditAddress?((0,n.uX)(),(0,n.CE)("td",Le,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[11]||(t[11]=e=>r.data.address=e)},null,512),[[a.Jo,r.data.address]]),(0,n.Lk)("button",{onClick:t[12]||(t[12]=e=>l.changeMemberInfo("address"))},"確認修改")])):((0,n.uX)(),(0,n.CE)("td",we,[(0,n.eW)((0,o.v_)(this.$store.state.memberInfo.address),1),(0,n.Lk)("a",{href:"#",onClick:t[10]||(t[10]=(0,a.D$)((e=>l.toggleMemberInfo("address")),["prevent"]))},t[19]||(t[19]=[(0,n.Lk)("i",{class:"fa-solid fa-pen-to-square fa-2xs ms-3",style:{color:"#000"}},null,-1)]))]))])])])])):(0,n.Q3)("",!0)}var $e={data(){return{isEditName:!1,isEditPhone:!1,isEditAddress:!1,isEditPassword:!1,password:"",confirmPassword:"",data:{name:"",phone:"",address:"",email:""}}},methods:{toggleMemberInfo(e){switch(e){case"name":this.isEditName=!0;break;case"phone":this.isEditPhone=!0;break;case"address":this.isEditAddress=!0;break;case"password":this.isEditPassword=!0;break}},async changeMemberInfo(e){console.log(1);const t=`${this.$store.state.apiUrl}/member`;let s={};switch(e){case"name":if(this.data.name.length<2)return void alert("新名稱至少要2字以上");s={name:this.data.name};break;case"phone":if(this.data.phone.length<10)return void alert("新電話號碼要10字以上");s={phone:this.data.phone};break;case"address":if(!this.data.address)return void alert("地址不能為空");s={address:this.data.address};break;case"password":if(this.password!==this.confirmPassword)return void alert("新密碼與確認密碼不同，請重新輸入");if(this.password.length<2)return void alert("新密碼至少要2字以上");s={password:this.password};break}try{console.log(2);const a=await this.updateMember(t,s);"name"===e&&(this.isEditName=!1),"phone"===e&&(this.isEditPhone=!1),"address"===e&&(this.isEditAddress=!1),"password"===e&&(this.isEditPassword=!1,this.password="",this.confirmPassword=""),alert(a.data),await this.$store.dispatch("getMember"),this.getMemberInfo()}catch(a){alert(a.message),await this.$store.commit("changeAccessToken",""),await this.$store.commit("changeLoginStatus",!1)}},async updateMember(e,t){try{const s=await z.A.patch(e,t,{headers:{authorization:"Bearer "+this.$store.state.accessToken},withCredentials:!0});return s}catch(s){if(401!=s.response?.status)throw new Error(s);try{const s=await this.$store.dispatch("getAccessToken");if(!s)throw new Error("取得AccessToken失敗");const a=await z.A.patch(e,t,{headers:{authorization:"Bearer "+this.$store.state.accessToken},withCredentials:!0});return a}catch(a){throw new Error("編輯會員資料發生錯誤原因為"+a)}}},getMemberInfo(){const e=this.$store.state.memberInfo||{};this.data.name=e.name||"",this.data.phone=e.phone||"",this.data.address=e.address||"",this.data.email=e.email||"",console.log(e)}},watch:{"$store.state.isLoggedIn"(e){0==e&&this.$store.dispatch("goToHomePage")}},created(){this.getMemberInfo()},mounted(){}};const Ce=(0,I.A)($e,[["render",xe]]);var ze=Ce;const Ee={class:"d-flex",style:{"justify-content":"space-evenly","min-height":"100vh","align-items":"center","flex-direction":"column"}},Ie={class:"",style:{display:"flex","min-width":"100%","font-size":"4em","margin-top":"1em","margin-bottom":"0.5em"}},Ae={style:{flex:"2"}},Ue={class:"",style:{display:"flex","min-width":"100%","font-size":"4em",margin:"0.5em"}},Te={style:{flex:"2"}},Ve={class:"",style:{display:"flex","min-width":"100%","font-size":"4em",margin:"0.5em"}},Me={style:{flex:"2"}},Pe={class:"",style:{display:"flex","min-width":"100%","font-size":"4em",margin:"0.5em"}},je={style:{flex:"2"}},_e={class:"",style:{display:"flex","min-width":"100%","font-size":"4em",margin:"0.5em"}},Se={style:{flex:"2"}},Xe={class:"",style:{display:"flex","min-width":"100%","font-size":"4em",margin:"0.5em"}},Oe={style:{flex:"2"}},Je={class:"",style:{display:"flex","min-width":"100%","font-size":"4em",margin:"0.5em","align-items":"center","justify-content":"center"}};function Ze(e,t,s,o,i,r){return(0,n.uX)(),(0,n.CE)("div",Ee,[(0,n.Lk)("div",Ie,[t[7]||(t[7]=(0,n.Lk)("label",{for:"member-name",style:{"font-weight":"900",flex:"1","text-align":"end","padding-right":"0.3em"}},"會員名稱:",-1)),(0,n.Lk)("div",Ae,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.name=e),id:"member-name",style:{width:"15em"},autocomplete:"off",type:"text"},null,512),[[a.Jo,i.name]])])]),(0,n.Lk)("div",Ue,[t[8]||(t[8]=(0,n.Lk)("label",{for:"member-email",style:{"font-weight":"900",flex:"1","text-align":"end","padding-right":"0.3em"}},"Email:",-1)),(0,n.Lk)("div",Te,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.email=e),id:"member-email",style:{width:"15em"},autocomplete:"off",type:"email"},null,512),[[a.Jo,i.email]])])]),(0,n.Lk)("div",Ve,[t[9]||(t[9]=(0,n.Lk)("label",{for:"member-password",style:{"font-weight":"900",flex:"1","text-align":"end","padding-right":"0.3em"}},"密碼:",-1)),(0,n.Lk)("div",Me,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>i.password=e),id:"member-password",style:{width:"15em"},autocomplete:"off",type:"password"},null,512),[[a.Jo,i.password]])])]),(0,n.Lk)("div",Pe,[t[10]||(t[10]=(0,n.Lk)("label",{for:"member-confirm-password",style:{"font-weight":"900",flex:"1","text-align":"end","padding-right":"0.3em"}},"確認密碼:",-1)),(0,n.Lk)("div",je,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>i.confirmpassword=e),id:"member-confirm-password",style:{width:"15em"},type:"password",autocomplete:"off"},null,512),[[a.Jo,i.confirmpassword]])])]),(0,n.Lk)("div",_e,[t[11]||(t[11]=(0,n.Lk)("label",{for:"member-phone",style:{"font-weight":"900",flex:"1","text-align":"end","padding-right":"0.3em"}},"電話:",-1)),(0,n.Lk)("div",Se,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>i.phone=e),id:"member-phone",style:{width:"15em"},autocomplete:"off",type:"text"},null,512),[[a.Jo,i.phone]])])]),(0,n.Lk)("div",Xe,[t[12]||(t[12]=(0,n.Lk)("label",{for:"member-address",style:{"font-weight":"900",flex:"1","text-align":"end","padding-right":"0.3em"}},"地址:",-1)),(0,n.Lk)("div",Oe,[(0,n.bo)((0,n.Lk)("textarea",{"onUpdate:modelValue":t[5]||(t[5]=e=>i.address=e),name:"",id:"member-address",rows:"2",cols:"30"},null,512),[[a.Jo,i.address]])])]),(0,n.Lk)("div",Je,[(0,n.Lk)("button",{class:"btn btn-success",onClick:t[6]||(t[6]=(...e)=>r.register&&r.register(...e)),style:{"font-size":"0.5em"}},"註冊")])])}var Fe={data(){return{name:"",email:"",password:"",confirmpassword:"",phone:"",address:""}},methods:{valid(){const e=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;return this.name.length<=0?"名字必填":e.test(this.email)?this.password.length<=0?"密碼必填":this.password!=this.confirmpassword?"請確認密碼與密碼是否相同":this.phone.length<=0?"電話必填":this.address.length<=0?"地址必填":null:"請輸入正確Email"},register(){const e=this.valid();if(e)alert(e);else{var t=`${this.$store.state.apiUrl}/register`;z.A.post(t,{name:this.name,email:this.email,password:this.password,phone:this.phone,address:this.address},{}).then((e=>{alert(e.data),this.$router.push("/")})).catch((e=>{alert(e.response.data)}))}}}};const Ne=(0,I.A)(Fe,[["render",Ze]]);var Be=Ne;const We=[{path:"/",name:"home",component:W},{path:"/Products",name:"Products",component:()=>s.e(385).then(s.bind(s,7385))},{path:"/Product/:id",name:"Product",component:ce},{path:"/Member/:id",name:"Member",component:ze},{path:"/Register",name:"Register",component:Be}],De=(0,T.aE)({history:(0,T.LA)("/"),routes:We});var qe=De,He=s(782),Re=(0,He.y$)({state(){return{accessToken:"",isLoggedIn:!1,memberInfo:{},apiUrl:"https://localhost:7266"}},getters:{},mutations:{changeAccessToken(e,t){e.accessToken=t},changeLoginStatus(e,t){e.isLoggedIn=t},changeMemberInfo(e,t){0!==Object.keys(t).length?e.memberInfo=t:e.memberInfo={}},addTryCount(e){e.tryCount++},resetTryCount(e){e.tryCount=0}},actions:{async getAccessToken(e){const t=`${e.state.apiUrl}/accessToken`;try{const s=await z.A.post(t,{},{withCredentials:!0}),a=s.data;return e.commit("changeAccessToken",a),!0}catch{return!1}},async getMember(e){const t=`${e.state.apiUrl}/member`;try{const s=await z.A.get(t,{headers:{authorization:"Bearer "+e.state.accessToken}});return e.commit("changeMemberInfo",s.data),!0}catch{return!1}},async goToHomePage(){alert("錯誤請登入"),setTimeout((()=>{qe.push("/")}),100)}},modules:{}});const Ge=(0,a.Ef)(U);Ge.use(Re).use(qe).mount("#app")},7465:function(e,t,s){s.d(t,{A:function(){return c}});var a=s(6768),n=s(4232);const o=["src"];function i(e,t,s,i,r,l){return(0,a.uX)(),(0,a.CE)("div",{style:(0,n.Tr)(r.zoomViewAttr),onClick:t[0]||(t[0]=(...e)=>l.hideZoomView&&l.hideZoomView(...e))},[(0,a.Lk)("img",{src:s.imgUrl,alt:"",srcset:""},null,8,o)],4)}var r={props:{imgUrl:{default:"",type:String},zoomVisible:{type:Boolean,default:!1}},data(){return{zoomViewAttr:{top:0,left:0,display:"flex","align-items":"center","justify-content":"center","background-color":"rgba(0, 0, 0, 0.9)",height:"100vh",width:"100vw",visibility:"hidden",position:"fixed","z-index":1031}}},methods:{hideZoomView(){this.$emit("hideZoomView")}},watch:{zoomVisible(e){this.zoomViewAttr.visibility=e?"visible":"hidden"}}},l=s(1241);const d=(0,l.A)(r,[["render",i]]);var c=d}},t={};function s(a){var n=t[a];if(void 0!==n)return n.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(t,a,n,o){if(!a){var i=1/0;for(c=0;c<e.length;c++){a=e[c][0],n=e[c][1],o=e[c][2];for(var r=!0,l=0;l<a.length;l++)(!1&o||i>=o)&&Object.keys(s.O).every((function(e){return s.O[e](a[l])}))?a.splice(l--,1):(r=!1,o<i&&(i=o));if(r){e.splice(c--,1);var d=n();void 0!==d&&(t=d)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[a,n,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.f={},s.e=function(e){return Promise.all(Object.keys(s.f).reduce((function(t,a){return s.f[a](e,t),t}),[]))}}(),function(){s.u=function(e){return"js/"+e+".7e64a881.js"}}(),function(){s.miniCssF=function(e){}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="burger-baby:";s.l=function(a,n,o,i){if(e[a])e[a].push(n);else{var r,l;if(void 0!==o)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var m=d[c];if(m.getAttribute("src")==a||m.getAttribute("data-webpack")==t+o){r=m;break}}r||(l=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,s.nc&&r.setAttribute("nonce",s.nc),r.setAttribute("data-webpack",t+o),r.src=a),e[a]=[n];var u=function(t,s){r.onerror=r.onload=null,clearTimeout(h);var n=e[a];if(delete e[a],r.parentNode&&r.parentNode.removeChild(r),n&&n.forEach((function(e){return e(s)})),t)return t(s)},h=setTimeout(u.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=u.bind(null,r.onerror),r.onload=u.bind(null,r.onload),l&&document.head.appendChild(r)}}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var e={524:0};s.f.j=function(t,a){var n=s.o(e,t)?e[t]:void 0;if(0!==n)if(n)a.push(n[2]);else{var o=new Promise((function(s,a){n=e[t]=[s,a]}));a.push(n[2]=o);var i=s.p+s.u(t),r=new Error,l=function(a){if(s.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var o=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.src;r.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",r.name="ChunkLoadError",r.type=o,r.request=i,n[1](r)}};s.l(i,l,"chunk-"+t,t)}},s.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,o,i=a[0],r=a[1],l=a[2],d=0;if(i.some((function(t){return 0!==e[t]}))){for(n in r)s.o(r,n)&&(s.m[n]=r[n]);if(l)var c=l(s)}for(t&&t(a);d<i.length;d++)o=i[d],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(c)},a=self["webpackChunkburger_baby"]=self["webpackChunkburger_baby"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[504],(function(){return s(1776)}));a=s.O(a)})();
//# sourceMappingURL=app.79d7e9ae.js.map